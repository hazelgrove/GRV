// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.6.0

//# unitInfo: Provides: Ui_effect__
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, Ui_effect = [0];
   runtime.caml_register_global(0, Ui_effect, "Ui_effect__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Ui_effect__Ui_effect_intf
//# unitInfo: Requires: Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Ui_effect_Ui_effect_intf = "Ui_effect__Ui_effect_intf",
    cst_ui_effect = "ui_effect";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime;
   caml_call1(Ppx_module_timer_runtime[4], cst_Ui_effect_Ui_effect_intf);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_ui_effect);
   caml_call1(Expect_test_collector[5][1], "ui_effect/ui_effect_intf.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_ui_effect, cst);
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_ui_effect);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Ui_effect_Ui_effect_intf);
   var Ui_effect_Ui_effect_intf = [0];
   runtime.caml_register_global
    (11, Ui_effect_Ui_effect_intf, cst_Ui_effect_Ui_effect_intf);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Ui_effect
//# unitInfo: Requires: Base__Monad, CamlinternalLazy, Core, Core__Bag, Core__Hashtbl, Core__Int, Core__List, Core__Sexp, Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Stdlib__Obj, Ui_effect__Ui_effect_intf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Ui_effect$0 = "Ui_effect",
    cst_Unrecognized_variant$1 = "Unrecognized variant",
    cst_ui_effect$0 = "ui_effect",
    caml_fresh_oo_id = runtime.caml_fresh_oo_id;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    CamlinternalLazy = global_data.CamlinternalLazy,
    Core_List = global_data.Core__List,
    Core_Bag = global_data.Core__Bag,
    Core = global_data.Core,
    Core_Hashtbl = global_data.Core__Hashtbl,
    Stdlib_Obj = global_data.Stdlib__Obj,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Core_Int = global_data.Core__Int,
    Base_Monad = global_data.Base__Monad;
   caml_call1(Ppx_module_timer_runtime[4], cst_Ui_effect$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_ui_effect$0);
   caml_call1(Expect_test_collector[5][1], "ui_effect/ui_effect.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_ui_effect$0, cst);
   var
    Ignore = [248, "Ui_effect.Ignore", caml_fresh_oo_id(0)],
    Many = [248, "Ui_effect.Many", caml_fresh_oo_id(0)],
    handlers =
      caml_call3
       (Core_Hashtbl[4],
        0,
        [0, 8],
        [0, Core_Int[91], Core_Int[80], Core_Int[104]]),
    cst_on_response_called_multipl = "on_response called multiple times!",
    cst_Unrecognized_variant$0 = cst_Unrecognized_variant$1,
    cst_Ui_effect_Define1_Handler_ = "Ui_effect.Define1(Handler).C",
    cst_Unrecognized_variant = cst_Unrecognized_variant$1,
    cst_Ui_effect_Define_Handler_C = "Ui_effect.Define(Handler).C",
    cst_Ui_effect_Return = "Ui_effect.Return",
    cst_Ui_effect_Lazy = "Ui_effect.Lazy",
    cst_Ui_effect_Bind = "Ui_effect.Bind",
    cst_Ui_effect_Map = "Ui_effect.Map",
    cst_Ui_effect_Never = "Ui_effect.Never",
    cst_Ui_effect_Fun = "Ui_effect.Fun",
    cst_ui_effect = cst_ui_effect$0,
    cst_Ui_effect = cst_Ui_effect$0;
   function Define(Handler){
    var
     C = [248, cst_Ui_effect_Define_Handler_C, caml_fresh_oo_id(0)],
     key = caml_call1(Stdlib_Obj[23][3], C);
    function _z_(inp){
     var _A_ = inp[1], match = _A_[1];
     if(match[1] === C){
      var callback = _A_[2], value = match[2];
      caml_call1(Handler[2], value);
      return caml_call1(callback, 0);
     }
     var _B_ = caml_call1(Sexplib0_Sexp_conv[7], cst_Unrecognized_variant);
     return caml_call1(Core[253], _B_);
    }
    caml_call3(Core_Hashtbl[36], handlers, key, _z_);
    function inject(v){return [0, C, v];}
    return [0, inject];
   }
   function Define1(Handler){
    var
     C = [248, cst_Ui_effect_Define1_Handler_, caml_fresh_oo_id(0)],
     key = caml_call1(Stdlib_Obj[23][3], C);
    function _w_(inp){
     var _x_ = inp[1], match = _x_[1];
     if(match[1] === C){
      var
       callback = _x_[2],
       value = match[2],
       called = [0, 0],
       callback$0 =
         function(a){
          if(called[1])
           caml_call1(Core[6], cst_on_response_called_multipl);
          else
           called[1] = 1;
          return caml_call1(callback, a);
         };
      return caml_call2(Handler[2], value, callback$0);
     }
     var _y_ = caml_call1(Sexplib0_Sexp_conv[7], cst_Unrecognized_variant$0);
     return caml_call1(Core[253], _y_);
    }
    caml_call3(Core_Hashtbl[36], handlers, key, _w_);
    function inject(v){return [0, C, v];}
    return [0, inject];
   }
   function handle(s){return caml_call2(Core[248], 0, s);}
   var
    Print_s = Define([0, [0], handle]),
    print_s = Print_s[1],
    Return = [248, cst_Ui_effect_Return, caml_fresh_oo_id(0)],
    Lazy = [248, cst_Ui_effect_Lazy, caml_fresh_oo_id(0)],
    Bind = [248, cst_Ui_effect_Bind, caml_fresh_oo_id(0)],
    Map = [248, cst_Ui_effect_Map, caml_fresh_oo_id(0)],
    Never = [248, cst_Ui_effect_Never, caml_fresh_oo_id(0)],
    Fun = [248, cst_Ui_effect_Fun, caml_fresh_oo_id(0)];
   function return$0(a){return [0, Return, a];}
   function bind(t, f){return [0, Bind, t, f];}
   function _a_(t, f){return [0, Map, t, f];}
   function of_fun(f){return [0, Fun, f];}
   function lazy(a){return [0, Lazy, a];}
   var
    map = [0, -198771759, _a_],
    include = caml_call1(Base_Monad[1], [0, bind, return$0, map]),
    symbol_bind = include[1],
    symbol_map = include[2],
    Monad_infix = include[3],
    bind$0 = include[4],
    return$1 = include[5],
    map$0 = include[6],
    join = include[7],
    ignore_m = include[8],
    all = include[9],
    all_unit = include[10],
    Let_syntax = include[11];
   function eval$0(t, callback){
    var t$0 = t, callback$0 = callback;
    for(;;){
     if(t$0[1] === Fun){var f = t$0[2]; return caml_call1(f, callback$0);}
     if(t$0 === Ignore) return caml_call1(callback$0, 0);
     if(t$0[1] === Return){var a = t$0[2]; return caml_call1(callback$0, a);}
     if(t$0[1] === Lazy){
      var _q_ = t$0[2], _r_ = runtime.caml_obj_tag(_q_);
      a:
      if(250 === _r_)
       var t$1 = _q_[1];
      else{
       if(246 !== _r_ && 244 !== _r_){var t$1 = _q_; break a;}
       var t$1 = caml_call1(CamlinternalLazy[2], _q_);
      }
      var t$0 = t$1;
     }
     else{
      if(t$0[1] === Many){
       var
        l = t$0[2],
        _s_ = function(_v_){return 0;},
        _t_ = function(_u_){return eval$0(_u_, _s_);};
       caml_call2(Core_List[9], l, _t_);
       return caml_call1(callback$0, 0);
      }
      if(t$0[1] === Bind)
       var
        f$0 = t$0[3],
        t$2 = t$0[2],
        callback$3 =
          function(callback, f){
           function callback$0(a){return eval$0(caml_call1(f, a), callback);}
           return callback$0;
          },
        callback$1 = callback$3(callback$0, f$0),
        t$0 = t$2,
        callback$0 = callback$1;
      else{
       if(t$0[1] !== Map){
        if(t$0 === Never) return 0;
        var
         _o_ = caml_call1(Stdlib_Obj[23][1], t$0),
         _p_ = caml_call1(Stdlib_Obj[23][3], _o_);
        return caml_call3
                (Core_Hashtbl[54], handlers, _p_, [0, [0, t$0, callback$0]]);
       }
       var
        f$1 = t$0[3],
        t$3 = t$0[2],
        callback$4 =
          function(callback, f){
           function callback$0(a){
            return caml_call1(callback, caml_call1(f, a));
           }
           return callback$0;
          },
        callback$2 = callback$4(callback$0, f$1),
        t$0 = t$3,
        callback$0 = callback$2;
      }
     }
    }
   }
   function _b_(_n_){return 0;}
   function handle$0(_m_){return eval$0(_m_, _b_);}
   var Expert = [0, handle$0, handlers, of_fun], Action = [0];
   function handle$1(param, on_response){
    var f = param[2], a = param[1];
    return caml_call1(on_response, caml_call1(f, a));
   }
   var Sync_fun_arg = [0, Action, handle$1], Sync_fun = Define1(Sync_fun_arg);
   function of_sync_fun(f, a){return caml_call1(Sync_fun[1], [0, a, f]);}
   function make(request, on_response){return [0, request, on_response];}
   function request(param){var request = param[1]; return request;}
   function respond_to(param, response){
    var on_response = param[2];
    return caml_call1(on_response, response);
   }
   var Callback = [0, make, request, respond_to];
   function make$0(request, evaluator){
    function _j_(callback){
     function _k_(response){caml_call1(callback, response); return Ignore;}
     var
      callback$0 = caml_call2(Callback[1], request, _k_),
      _l_ = caml_call1(evaluator, callback$0);
     return caml_call1(Expert[1], _l_);
    }
    return caml_call1(Expert[3], _j_);
   }
   var Private = [0, Callback, make$0];
   function create(param){return [0, [0, caml_call1(Core_Bag[22], 0)]];}
   function upon(t, handler){
    var match = t[1];
    if(0 === match[0]){
     var handlers = match[1];
     caml_call2(Core_Bag[23], handlers, handler);
     return 0;
    }
    var x = match[1];
    return caml_call1(handler, x);
   }
   function fill_if_empty(t, x){
    var match = t[1];
    if(0 !== match[0]) return 0;
    var handlers = match[1];
    function _i_(handler){return caml_call1(handler, x);}
    caml_call2(Core_Bag[7], handlers, _i_);
    t[1] = [1, x];
    return 0;
   }
   function peek(t){
    var match = t[1];
    if(0 === match[0]) return 0;
    var x = match[1];
    return [0, x];
   }
   var Svar = [0, create, upon, fill_if_empty, peek], Action$0 = [0];
   function handle$2(param, on_response){
    var f = param[2], a = param[1], _h_ = caml_call1(f, a);
    return caml_call2(Svar[2], _h_, on_response);
   }
   var
    Svar_fun_arg = [0, Action$0, handle$2],
    Svar_fun = Define1(Svar_fun_arg);
   function of_svar_fun(f, a){return caml_call1(Svar_fun[1], [0, a, f]);}
   function create$0(param){return caml_call1(Core_Bag[22], 0);}
   function queries_pending_response(t){
    function _f_(param){var query = param[1]; return query;}
    var _g_ = caml_call1(Core_Bag[17], t);
    return caml_call2(Core_List[72], _g_, _f_);
   }
   function maybe_respond(t, f){
    function _e_(param){
     var response = param[2], query = param[1], match = caml_call1(f, query);
     if(! match) return 1;
     var resp = match[1];
     caml_call2(Svar[3], response, resp);
     return 0;
    }
    return caml_call2(Core_Bag[30], t, _e_);
   }
   function of_query_response_tracker(qrt){
    function _c_(query){
     var response = caml_call1(Svar[1], 0);
     caml_call2(Core_Bag[23], qrt, [0, query, response]);
     return response;
    }
    return function(_d_){return of_svar_fun(_c_, _d_);};
   }
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_ui_effect);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Ui_effect);
   var
    Ui_effect =
      [0,
       Ignore,
       Many,
       symbol_bind,
       symbol_map,
       Monad_infix,
       bind$0,
       return$1,
       map$0,
       join,
       ignore_m,
       all,
       all_unit,
       Let_syntax,
       Never,
       lazy,
       print_s,
       of_sync_fun,
       Define,
       Define1,
       Expert,
       Private,
       [0,
        Svar,
        of_svar_fun,
        [0, create$0, maybe_respond, queries_pending_response],
        of_query_response_tracker]];
   runtime.caml_register_global(34, Ui_effect, cst_Ui_effect$0);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJ1aV9lZmZlY3QuY21hLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImhhbmRsZXJzIiwia2V5IiwiaW5wIiwiY2FsbGJhY2siLCJ2YWx1ZSIsImluamVjdCIsInYiLCJjYWxsZWQiLCJjYWxsYmFjayQwIiwiYSIsImhhbmRsZSIsInMiLCJwcmludF9zIiwiTmV2ZXIiLCJyZXR1cm4kMCIsImJpbmQiLCJ0IiwiZiIsIm9mX2Z1biIsImxhenkiLCJtYXAiLCJldmFsJDAiLCJ0JDAiLCJ0JDEiLCJsIiwiZiQwIiwidCQyIiwiY2FsbGJhY2skMyIsImNhbGxiYWNrJDEiLCJmJDEiLCJ0JDMiLCJjYWxsYmFjayQ0IiwiY2FsbGJhY2skMiIsImhhbmRsZSQwIiwiaGFuZGxlJDEiLCJvbl9yZXNwb25zZSIsIm9mX3N5bmNfZnVuIiwibWFrZSIsInJlcXVlc3QiLCJyZXNwb25kX3RvIiwicmVzcG9uc2UiLCJtYWtlJDAiLCJldmFsdWF0b3IiLCJjcmVhdGUiLCJ1cG9uIiwiaGFuZGxlciIsIngiLCJmaWxsX2lmX2VtcHR5IiwicGVlayIsImhhbmRsZSQyIiwib2Zfc3Zhcl9mdW4iLCJjcmVhdGUkMCIsInF1ZXJpZXNfcGVuZGluZ19yZXNwb25zZSIsInF1ZXJ5IiwibWF5YmVfcmVzcG9uZCIsInJlc3AiLCJvZl9xdWVyeV9yZXNwb25zZV90cmFja2VyIiwicXJ0Il0sInNvdXJjZXMiOlsiL1VzZXJzL3N2aXNobnVzLy5vcGFtL2dydi10ZXN0L2xpYi92aXJ0dWFsX2RvbS91aV9lZmZlY3QvdWlfZWZmZWN0Lm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBSWE7SUFBQTtJQUFnQjtJQUt6QkE7TUFBK0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJckM7S0FBQTtLQUVSQyxNQUFNO2lCQUdp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QURSdkM7R0FNTjtZQUlWd0MsMEJBQTBCQztJQUFrQixhQXhCOUJKO0tBQ0MsSUFBWGIsV0FBVztLQUNQLHlCQXNCa0JpQixTQXhCWkosT0FDVmI7S0FFSixPQUZJQTs7SUF1QndDLHFCLE9BcEM1Q1U7R0FvQ2tGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0F2SnRGckM7T0FFQU07T0F4QkFQO09Bc0VFd0I7Ozs7Ozs7UUFtRUVjO1lBVUVDLFVBZ0JBRyxlQVJBRjtRQWtCRkk7OztFIiwic291cmNlc0NvbnRlbnQiOlsib3BlbiEgQ29yZVxuaW5jbHVkZSBVaV9lZmZlY3RfaW50ZlxuXG50eXBlICdhIHQgPSAuLlxudHlwZSAnYSB0ICs9IElnbm9yZSA6IHVuaXQgdCB8IE1hbnkgOiB1bml0IHQgbGlzdCAtPiB1bml0IHRcblxuKCogV2UgdXNlIHRoaXMgdGFibGUgZm9yIGRpc3BhdGNoaW5nIHRvIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIGluIGFuIGVmZmljaWVudCB3YXkuICAqKVxudHlwZSBoaWRkZW4gPSBUIDogKCdhIHQgKiAoJ2EgLT4gdW5pdCkpIC0+IGhpZGRlblxuXG5sZXQgaGFuZGxlcnMgOiAoaGlkZGVuIC0+IHVuaXQpIEhhc2h0YmwuTShJbnQpLnQgPSBIYXNodGJsLmNyZWF0ZSAobW9kdWxlIEludCkgfnNpemU6OFxuXG5tb2R1bGUgRGVmaW5lIChIYW5kbGVyIDogSGFuZGxlcikgOlxuICBTIHdpdGggdHlwZSBhY3Rpb24gOj0gSGFuZGxlci5BY3Rpb24udCBhbmQgdHlwZSAnYSB0IDo9ICdhIHQgPSBzdHJ1Y3RcbiAgdHlwZSBfIHQgKz0gQyA6IEhhbmRsZXIuQWN0aW9uLnQgLT4gdW5pdCB0XG5cbiAgbGV0IGtleSA9IE9iai5FeHRlbnNpb25fY29uc3RydWN0b3IuaWQgWyVleHRlbnNpb25fY29uc3RydWN0b3IgQ11cblxuICBsZXQgKCkgPVxuICAgIEhhc2h0YmwuYWRkX2V4biBoYW5kbGVycyB+a2V5IH5kYXRhOihmdW4gaW5wIC0+XG4gICAgICBtYXRjaCBpbnAgd2l0aFxuICAgICAgfCBUIChDIHZhbHVlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgSGFuZGxlci5oYW5kbGUgdmFsdWU7XG4gICAgICAgIGNhbGxiYWNrICgpXG4gICAgICB8IF8gLT4gcmFpc2VfcyBbJW1lc3NhZ2UgXCJVbnJlY29nbml6ZWQgdmFyaWFudFwiXSlcbiAgOztcblxuICBsZXQgaW5qZWN0IHYgPSBDIHZcbmVuZFxuXG5tb2R1bGUgRGVmaW5lMSAoSGFuZGxlciA6IEhhbmRsZXIxKSA6XG4gIFMxIHdpdGggdHlwZSAnYSBhY3Rpb24gOj0gJ2EgSGFuZGxlci5BY3Rpb24udCBhbmQgdHlwZSAnYSB0IDo9ICdhIHQgPSBzdHJ1Y3RcbiAgdHlwZSBfIHQgKz0gQyA6ICdhIEhhbmRsZXIuQWN0aW9uLnQgLT4gJ2EgdFxuXG4gIGxldCBrZXkgPSBPYmouRXh0ZW5zaW9uX2NvbnN0cnVjdG9yLmlkIFslZXh0ZW5zaW9uX2NvbnN0cnVjdG9yIENdXG5cbiAgbGV0ICgpID1cbiAgICBIYXNodGJsLmFkZF9leG4gaGFuZGxlcnMgfmtleSB+ZGF0YTooZnVuIGlucCAtPlxuICAgICAgbWF0Y2ggaW5wIHdpdGhcbiAgICAgIHwgVCAoQyB2YWx1ZSwgY2FsbGJhY2spIC0+XG4gICAgICAgIGxldCBjYWxsZWQgPSByZWYgZmFsc2UgaW5cbiAgICAgICAgbGV0IGNhbGxiYWNrIGEgPVxuICAgICAgICAgIGlmICFjYWxsZWRcbiAgICAgICAgICB0aGVuIGZhaWx3aXRoIFwib25fcmVzcG9uc2UgY2FsbGVkIG11bHRpcGxlIHRpbWVzIVwiXG4gICAgICAgICAgZWxzZSBjYWxsZWQgOj0gdHJ1ZTtcbiAgICAgICAgICBjYWxsYmFjayBhXG4gICAgICAgIGluXG4gICAgICAgIEhhbmRsZXIuaGFuZGxlIHZhbHVlIH5vbl9yZXNwb25zZTpjYWxsYmFja1xuICAgICAgfCBfIC0+IHJhaXNlX3MgWyVtZXNzYWdlIFwiVW5yZWNvZ25pemVkIHZhcmlhbnRcIl0pXG4gIDs7XG5cbiAgbGV0IGluamVjdCB2ID0gQyB2XG5lbmRcblxubGV0IGdldF9rZXkgdCA9IE9iai5FeHRlbnNpb25fY29uc3RydWN0b3IuaWQgKE9iai5FeHRlbnNpb25fY29uc3RydWN0b3Iub2ZfdmFsIHQpXG5cbmxldCBoYW5kbGVfcmVnaXN0ZXJlZF9ldmVudCAoVCAodCwgY2IpKSA9XG4gIEhhc2h0YmwuZmluZF9leG4gaGFuZGxlcnMgKGdldF9rZXkgdCkgKFQgKHQsIGNiKSlcbjs7XG5cbm1vZHVsZSBQcmludF9zID0gRGVmaW5lIChzdHJ1Y3RcbiAgICBtb2R1bGUgQWN0aW9uID0gU2V4cFxuXG4gICAgbGV0IGhhbmRsZSBzID0gcHJpbnRfcyBzXG4gIGVuZClcblxubGV0IHByaW50X3MgPSBQcmludF9zLmluamVjdFxuXG4oKiBFZmZlY3RmdWwgdGhpbmdzICopXG50eXBlICdhIHQgKz1cbiAgfCBSZXR1cm4gOiAnYSAtPiAnYSB0XG4gIHwgTGF6eSA6ICdhIHQgTGF6eS50IC0+ICdhIHRcbiAgfCBCaW5kIDpcbiAgICAgIHsgdCA6ICdhIHRcbiAgICAgIDsgZiA6ICdhIC0+ICdiIHRcbiAgICAgIH1cbiAgICAgIC0+ICdiIHRcbiAgfCBNYXAgOlxuICAgICAgeyB0IDogJ2EgdFxuICAgICAgOyBmIDogJ2EgLT4gJ2JcbiAgICAgIH1cbiAgICAgIC0+ICdiIHRcbiAgfCBOZXZlciA6ICdiIHRcbiAgfCBGdW4gOiAoY2FsbGJhY2s6KCdhIC0+IHVuaXQpIC0+IHVuaXQpIC0+ICdhIHRcblxubGV0IHJldHVybiBhID0gUmV0dXJuIGFcbmxldCBiaW5kICh0eXBlIGEpICh0IDogYSB0KSB+ZiA9IEJpbmQgeyB0OyBmIH1cbmxldCBtYXAgKHR5cGUgYSBiKSAodCA6IGEgdCkgfmYgOiBiIHQgPSBNYXAgeyB0OyBmIH1cbmxldCBuZXZlciA9IE5ldmVyXG5sZXQgb2ZfZnVuIH5mID0gRnVuIGZcbmxldCBsYXp5XyBhID0gTGF6eSBhXG5cbmluY2x1ZGUgQ29yZS5Nb25hZC5NYWtlIChzdHJ1Y3RcbiAgICB0eXBlIG5vbnJlYyAnYSB0ID0gJ2EgdFxuXG4gICAgbGV0IHJldHVybiA9IHJldHVyblxuICAgIGxldCBiaW5kID0gYmluZFxuICAgIGxldCBtYXAgPSBgQ3VzdG9tIG1hcFxuICBlbmQpXG5cbmxldCByZWMgZXZhbCA6IHR5cGUgYS4gYSB0IC0+IGNhbGxiYWNrOihhIC0+IHVuaXQpIC0+IHVuaXQgPVxuICBmdW4gdCB+Y2FsbGJhY2sgLT5cbiAgbWF0Y2ggdCB3aXRoXG4gIHwgRnVuIGYgLT4gZiB+Y2FsbGJhY2tcbiAgfCBJZ25vcmUgLT4gY2FsbGJhY2sgKClcbiAgfCBSZXR1cm4gYSAtPiBjYWxsYmFjayBhXG4gIHwgTGF6eSAobGF6eSB0KSAtPiBldmFsIHQgfmNhbGxiYWNrXG4gIHwgTWFueSBsIC0+XG4gICAgTGlzdC5pdGVyIGwgfmY6KGV2YWwgfmNhbGxiYWNrOmlnbm9yZSk7XG4gICAgY2FsbGJhY2sgKClcbiAgfCBCaW5kIHsgdDsgZiB9IC0+IGV2YWwgdCB+Y2FsbGJhY2s6KGZ1biBhIC0+IGV2YWwgKGYgYSkgfmNhbGxiYWNrKVxuICB8IE1hcCB7IHQ7IGYgfSAtPiBldmFsIHQgfmNhbGxiYWNrOihmdW4gYSAtPiBjYWxsYmFjayAoZiBhKSlcbiAgfCBOZXZlciAtPiAoKVxuICB8IHQgLT4gaGFuZGxlX3JlZ2lzdGVyZWRfZXZlbnQgKFQgKHQsIGNhbGxiYWNrKSlcbjs7XG5cbm1vZHVsZSBFeHBlcnQgPSBzdHJ1Y3RcbiAgbGV0IGhhbmRsZSA9IGV2YWwgfmNhbGxiYWNrOmlnbm9yZVxuXG4gIHR5cGUgaGlkZSA9IGhpZGRlbiA9IFQgOiAoJ2EgdCAqICgnYSAtPiB1bml0KSkgLT4gaGlkZVxuXG4gIGxldCBoYW5kbGVycyA9IGhhbmRsZXJzXG4gIGxldCBvZl9mdW4gPSBvZl9mdW5cbmVuZFxuXG5tb2R1bGUgQWR2YW5jZWQgPSBzdHJ1Y3RcbiAgbW9kdWxlIFN5bmNfZnVuX2FyZyA9IHN0cnVjdFxuICAgIG1vZHVsZSBBY3Rpb24gPSBzdHJ1Y3RcbiAgICAgIHR5cGUgJ3IgdCA9IFQgOiAnYSAqICgnYSAtPiAncikgLT4gJ3IgdFxuICAgIGVuZFxuXG4gICAgbGV0IGhhbmRsZSAoQWN0aW9uLlQgKGEsIGYpKSB+b25fcmVzcG9uc2UgPSBvbl9yZXNwb25zZSAoZiBhKVxuICBlbmRcblxuICBtb2R1bGUgU3luY19mdW4gPSBEZWZpbmUxIChTeW5jX2Z1bl9hcmcpXG5cbiAgbGV0IG9mX3N5bmNfZnVuIGYgYSA9IFN5bmNfZnVuLmluamVjdCAoVCAoYSwgZikpXG5cbiAgbW9kdWxlIFByaXZhdGUgPSBzdHJ1Y3RcbiAgICBtb2R1bGUgQ2FsbGJhY2sgPSBzdHJ1Y3RcbiAgICAgIHR5cGUgbm9ucmVjICgnYSwgJ2IpIHQgPVxuICAgICAgICB7IHJlcXVlc3QgOiAnYVxuICAgICAgICA7IG9uX3Jlc3BvbnNlIDogJ2IgLT4gdW5pdCB0XG4gICAgICAgIH1cblxuICAgICAgbGV0IG1ha2UgfnJlcXVlc3Qgfm9uX3Jlc3BvbnNlID0geyByZXF1ZXN0OyBvbl9yZXNwb25zZSB9XG4gICAgICBsZXQgcmVxdWVzdCB7IHJlcXVlc3Q7IF8gfSA9IHJlcXVlc3RcbiAgICAgIGxldCByZXNwb25kX3RvIHsgb25fcmVzcG9uc2U7IF8gfSByZXNwb25zZSA9IG9uX3Jlc3BvbnNlIHJlc3BvbnNlXG4gICAgZW5kXG5cbiAgICBsZXQgbWFrZSA6IHJlcXVlc3Q6J2EgLT4gZXZhbHVhdG9yOigoJ2EsICdiKSBDYWxsYmFjay50IC0+IHVuaXQgdCkgLT4gJ2IgdCA9XG4gICAgICBmdW4gfnJlcXVlc3QgfmV2YWx1YXRvciAtPlxuICAgICAgRXhwZXJ0Lm9mX2Z1biB+ZjooZnVuIH5jYWxsYmFjayAtPlxuICAgICAgICBsZXQgY2FsbGJhY2sgPVxuICAgICAgICAgIENhbGxiYWNrLm1ha2UgfnJlcXVlc3Qgfm9uX3Jlc3BvbnNlOihmdW4gcmVzcG9uc2UgLT5cbiAgICAgICAgICAgIGNhbGxiYWNrIHJlc3BvbnNlO1xuICAgICAgICAgICAgSWdub3JlKVxuICAgICAgICBpblxuICAgICAgICBFeHBlcnQuaGFuZGxlIChldmFsdWF0b3IgY2FsbGJhY2spKVxuICAgIDs7XG4gIGVuZFxuXG4gIG1vZHVsZSBGb3JfdGVzdGluZyA9IHN0cnVjdFxuICAgIG1vZHVsZSBTdmFyID0gc3RydWN0XG4gICAgICB0eXBlICdhIHN0YXRlID1cbiAgICAgICAgfCBFbXB0eSBvZiB7IGhhbmRsZXJzIDogKCdhIC0+IHVuaXQpIEJhZy50IH1cbiAgICAgICAgfCBGdWxsIG9mICdhXG5cbiAgICAgIHR5cGUgJ2EgdCA9ICdhIHN0YXRlIHJlZlxuXG4gICAgICBsZXQgY3JlYXRlICgpID0gcmVmIChFbXB0eSB7IGhhbmRsZXJzID0gQmFnLmNyZWF0ZSAoKSB9KVxuXG4gICAgICBsZXQgdXBvbiB0IGhhbmRsZXIgPVxuICAgICAgICBtYXRjaCAhdCB3aXRoXG4gICAgICAgIHwgRW1wdHkgeyBoYW5kbGVycyB9IC0+IGlnbm9yZSAoQmFnLmFkZCBoYW5kbGVycyBoYW5kbGVyIDogXyBCYWcuRWx0LnQpXG4gICAgICAgIHwgRnVsbCB4IC0+IGhhbmRsZXIgeFxuICAgICAgOztcblxuICAgICAgbGV0IGZpbGxfaWZfZW1wdHkgdCB4ID1cbiAgICAgICAgbWF0Y2ggIXQgd2l0aFxuICAgICAgICB8IEZ1bGwgXyAtPiAoKVxuICAgICAgICB8IEVtcHR5IHsgaGFuZGxlcnMgfSAtPlxuICAgICAgICAgIEJhZy5pdGVyIGhhbmRsZXJzIH5mOihmdW4gaGFuZGxlciAtPiBoYW5kbGVyIHgpO1xuICAgICAgICAgIHQgOj0gRnVsbCB4XG4gICAgICA7O1xuXG4gICAgICBsZXQgcGVlayB0ID1cbiAgICAgICAgbWF0Y2ggIXQgd2l0aFxuICAgICAgICB8IEVtcHR5IF8gLT4gTm9uZVxuICAgICAgICB8IEZ1bGwgeCAtPiBTb21lIHhcbiAgICAgIDs7XG4gICAgZW5kXG5cbiAgICBtb2R1bGUgU3Zhcl9mdW5fYXJnID0gc3RydWN0XG4gICAgICBtb2R1bGUgQWN0aW9uID0gc3RydWN0XG4gICAgICAgIHR5cGUgJ3IgdCA9IFQgOiAnYSAqICgnYSAtPiAnciBTdmFyLnQpIC0+ICdyIHRcbiAgICAgIGVuZFxuXG4gICAgICBsZXQgaGFuZGxlIChBY3Rpb24uVCAoYSwgZikpIH5vbl9yZXNwb25zZSA9IFN2YXIudXBvbiAoZiBhKSBvbl9yZXNwb25zZVxuICAgIGVuZFxuXG4gICAgbW9kdWxlIFN2YXJfZnVuID0gRGVmaW5lMSAoU3Zhcl9mdW5fYXJnKVxuXG4gICAgbGV0IG9mX3N2YXJfZnVuIGYgYSA9IFN2YXJfZnVuLmluamVjdCAoVCAoYSwgZikpXG5cbiAgICBtb2R1bGUgUXVlcnlfcmVzcG9uc2VfdHJhY2tlciA9IHN0cnVjdFxuICAgICAgdHlwZSAoJ3EsICdyKSBycGMgPVxuICAgICAgICB7IHF1ZXJ5IDogJ3FcbiAgICAgICAgOyByZXNwb25zZSA6ICdyIFN2YXIudFxuICAgICAgICB9XG5cbiAgICAgIHR5cGUgKCdxLCAncikgdCA9ICgncSwgJ3IpIHJwYyBCYWcudFxuXG4gICAgICBsZXQgY3JlYXRlICgpID0gQmFnLmNyZWF0ZSAoKVxuXG4gICAgICBsZXQgYWRkX3F1ZXJ5IHQgcXVlcnkgPVxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBTdmFyLmNyZWF0ZSAoKSBpblxuICAgICAgICBpZ25vcmUgKEJhZy5hZGQgdCB7IHF1ZXJ5OyByZXNwb25zZSB9IDogXyBCYWcuRWx0LnQpO1xuICAgICAgICByZXNwb25zZVxuICAgICAgOztcblxuICAgICAgbGV0IHF1ZXJpZXNfcGVuZGluZ19yZXNwb25zZSB0ID1cbiAgICAgICAgQmFnLnRvX2xpc3QgdCB8PiBMaXN0Lm1hcCB+ZjooZnVuIHsgcXVlcnk7IHJlc3BvbnNlID0gXyB9IC0+IHF1ZXJ5KVxuICAgICAgOztcblxuICAgICAgdHlwZSAnciBtYXliZV9yZXNwb25kID1cbiAgICAgICAgfCBOb19yZXNwb25zZV95ZXRcbiAgICAgICAgfCBSZXNwb25kIG9mICdyXG5cbiAgICAgIGxldCBtYXliZV9yZXNwb25kIHQgfmYgPVxuICAgICAgICBCYWcuZmlsdGVyX2lucGxhY2UgdCB+ZjooZnVuIHsgcXVlcnk7IHJlc3BvbnNlIH0gLT5cbiAgICAgICAgICBtYXRjaCBmIHF1ZXJ5IHdpdGhcbiAgICAgICAgICB8IE5vX3Jlc3BvbnNlX3lldCAtPiB0cnVlXG4gICAgICAgICAgfCBSZXNwb25kIHJlc3AgLT5cbiAgICAgICAgICAgIFN2YXIuZmlsbF9pZl9lbXB0eSByZXNwb25zZSByZXNwO1xuICAgICAgICAgICAgZmFsc2UpXG4gICAgICA7O1xuICAgIGVuZFxuXG4gICAgbGV0IG9mX3F1ZXJ5X3Jlc3BvbnNlX3RyYWNrZXIgcXJ0ID0gb2Zfc3Zhcl9mdW4gKFF1ZXJ5X3Jlc3BvbnNlX3RyYWNrZXIuYWRkX3F1ZXJ5IHFydClcbiAgZW5kXG5lbmRcblxuaW5jbHVkZSBBZHZhbmNlZFxuIl19
